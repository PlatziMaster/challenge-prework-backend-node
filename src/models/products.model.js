// Informacion generada en https://www.mockaroo.com/.
let products = [
  {
    id: 1,
    name: "Bagel - Everything Presliced",
    department: "Jewelery",
    price: "$5.19",
    stock: 16,
  },
  {
    id: 2,
    name: "Dish Towel",
    department: "Industrial",
    price: "$7.13",
    stock: 10,
  },
  {
    id: 3,
    name: "Crab - Back Fin Meat, Canned",
    department: "Computers",
    price: "$9.36",
    stock: 50,
  },
  {
    id: 4,
    name: "Mangoes",
    department: "Electronics",
    price: "$9.08",
    stock: 18,
  },
  {
    id: 5,
    name: "Cookie Dough - Oatmeal Rasin",
    department: "Automotive",
    price: "$4.12",
    stock: 55,
  },
  {
    id: 6,
    name: "Capon - Breast, Double, Wing On",
    department: "Health",
    price: "$6.63",
    stock: 2,
  },
  {
    id: 7,
    name: "Goldschalger",
    department: "Jewelery",
    price: "$9.21",
    stock: 26,
  },
  {
    id: 8,
    name: "Grapes - Red",
    department: "Outdoors",
    price: "$1.53",
    stock: 42,
  },
  {
    id: 9,
    name: "Soup - Knorr, Chicken Gumbo",
    department: "Grocery",
    price: "$2.09",
    stock: 86,
  },
  {
    id: 10,
    name: "Wine - Cabernet Sauvignon",
    department: "Tools",
    price: "$4.08",
    stock: 6,
  },
  {
    id: 11,
    name: "Potatoes - Mini White 3 Oz",
    department: "Computers",
    price: "$2.66",
    stock: 75,
  },
  {
    id: 12,
    name: "Lamb - Sausage Casings",
    department: "Shoes",
    price: "$2.01",
    stock: 2,
  },
  {
    id: 13,
    name: "Veal - Knuckle",
    department: "Health",
    price: "$0.13",
    stock: 42,
  },
  {
    id: 14,
    name: "Bread - Bagels, Plain",
    department: "Tools",
    price: "$10.00",
    stock: 88,
  },
  {
    id: 15,
    name: "Barley - Pearl",
    department: "Grocery",
    price: "$0.85",
    stock: 6,
  },
  {
    id: 16,
    name: "Easy Off Oven Cleaner",
    department: "Toys",
    price: "$0.57",
    stock: 52,
  },
  {
    id: 17,
    name: "Persimmons",
    department: "Games",
    price: "$7.39",
    stock: 67,
  },
  {
    id: 18,
    name: "Bread Base - Italian",
    department: "Shoes",
    price: "$4.52",
    stock: 63,
  },
  {
    id: 19,
    name: "Island Oasis - Ice Cream Mix",
    department: "Books",
    price: "$5.91",
    stock: 95,
  },
  {
    id: 20,
    name: "Compound - Orange",
    department: "Baby",
    price: "$5.19",
    stock: 53,
  },
  {
    id: 21,
    name: "Irish Cream - Baileys",
    department: "Electronics",
    price: "$5.23",
    stock: 14,
  },
  {
    id: 22,
    name: "Steel Wool S.o.s",
    department: "Jewelery",
    price: "$9.19",
    stock: 49,
  },
  {
    id: 23,
    name: "Alize Red Passion",
    department: "Music",
    price: "$2.38",
    stock: 67,
  },
  {
    id: 24,
    name: "Kolrabi",
    department: "Electronics",
    price: "$6.03",
    stock: 95,
  },
  {
    id: 25,
    name: "Beef - Rib Roast, Cap On",
    department: "Home",
    price: "$5.48",
    stock: 40,
  },
  {
    id: 26,
    name: "Mountain Dew",
    department: "Clothing",
    price: "$3.50",
    stock: 68,
  },
  {
    id: 27,
    name: "Soup - Canadian Pea, Dry Mix",
    department: "Tools",
    price: "$0.09",
    stock: 32,
  },
  {
    id: 28,
    name: "Soup - Campbells Mac N Cheese",
    department: "Tools",
    price: "$2.48",
    stock: 62,
  },
  {
    id: 29,
    name: "Cheese - Cheddarsliced",
    department: "Industrial",
    price: "$6.60",
    stock: 16,
  },
  {
    id: 30,
    name: "Muffin Mix - Lemon Cranberry",
    department: "Music",
    price: "$7.69",
    stock: 50,
  },
  {
    id: 31,
    name: "Onions Granulated",
    department: "Health",
    price: "$6.40",
    stock: 91,
  },
  {
    id: 32,
    name: "Oven Mitts - 15 Inch",
    department: "Electronics",
    price: "$2.16",
    stock: 87,
  },
  {
    id: 33,
    name: "Oil - Olive Bertolli",
    department: "Sports",
    price: "$2.60",
    stock: 71,
  },
  {
    id: 34,
    name: "Turkey - Breast, Bone - In",
    department: "Music",
    price: "$5.16",
    stock: 98,
  },
  {
    id: 35,
    name: "Lettuce - Arugula",
    department: "Garden",
    price: "$8.93",
    stock: 37,
  },
  {
    id: 36,
    name: "Water - Green Tea Refresher",
    department: "Tools",
    price: "$9.27",
    stock: 75,
  },
  {
    id: 37,
    name: "Knife Plastic - White",
    department: "Sports",
    price: "$3.50",
    stock: 3,
  },
  {
    id: 38,
    name: "Soup - Campbells Chili Veg",
    department: "Home",
    price: "$2.32",
    stock: 15,
  },
  {
    id: 39,
    name: "Orange - Canned, Mandarin",
    department: "Music",
    price: "$9.81",
    stock: 89,
  },
  {
    id: 40,
    name: "Spice - Chili Powder Mexican",
    department: "Electronics",
    price: "$1.10",
    stock: 66,
  },
  {
    id: 41,
    name: "Pear - Halves",
    department: "Games",
    price: "$2.54",
    stock: 8,
  },
  {
    id: 42,
    name: "Yogurt - Peach, 175 Gr",
    department: "Beauty",
    price: "$1.43",
    stock: 52,
  },
  {
    id: 43,
    name: "Beef Dry Aged Tenderloin Aaa",
    department: "Movies",
    price: "$0.04",
    stock: 54,
  },
  {
    id: 44,
    name: "Chocolate Bar - Smarties",
    department: "Tools",
    price: "$2.94",
    stock: 49,
  },
  {
    id: 45,
    name: "Soup Bowl Clear 8oz92008",
    department: "Industrial",
    price: "$6.04",
    stock: 31,
  },
  {
    id: 46,
    name: "Grapes - Black",
    department: "Movies",
    price: "$8.01",
    stock: 39,
  },
  {
    id: 47,
    name: "Cheese - Montery Jack",
    department: "Computers",
    price: "$8.62",
    stock: 59,
  },
  {
    id: 48,
    name: "Bread - Pumpernickel",
    department: "Grocery",
    price: "$7.94",
    stock: 69,
  },
  {
    id: 49,
    name: "Fenngreek Seed",
    department: "Industrial",
    price: "$3.15",
    stock: 25,
  },
  {
    id: 50,
    name: "Banana Turning",
    department: "Baby",
    price: "$4.95",
    stock: 69,
  },
];

// Esta sera la manera de ver todos los datos del mock.
const getAllProduct = () => {
  return new Promise((resolve, reject) => {
    if (true) {
      resolve(products);
    } else {
      reject("Something went wrong. (getAllProduct at products.model.js file)");
    }
  });
};

// Esta funcion es necesaria solamente cuando se requiera un producto.
// La manera de poder obtenerlo es pasando como argumento el identificador del producto requerido.
const getProductById = (id) => {
  return new Promise((resolve, reject) => {
    // El mock tiene 50 articulos y sus respectivos identificadores van del 1 al 50.
    let result = products.find((product) => product.id === id);
    if (result) {
      resolve(result);
    } else {
      reject(
        "Something went wrong. (getProductById at products.model.js file)"
      );
    }
  });
};

/**
 * El parametro id sera necesario para encontrar el producto a modificar.
 * El objeto data sera necesario para remplazar los campos del producto inicial.
 */
const editProductById = (id, data) => {
  return new Promise((resolve, reject) => {
    let product = products.find((product) => product.id === id);
    if (product && data) {
      // Sera necesario eliminar producto para despues poder agregarlo modificado.
      products = products.filter((product) => product.id !== id);

      // En este punto sera agregado al mock de incio el producto ya modificado.
      products.push({
        ...product,
        ...data,
      });

      // Por ultimo sera retornado el elemento modificado.
      resolve(products[products.length - 1]);
    } else {
      reject("Something went wrong. (editProductById at products.mode.js file");
    }
  });
};

// Esta sera la manera en la que se agregan elementos nuevos al mock.
// Es importante mencionar que los datos no persistiran. *

// Para efectos practicos el objeto data podra tener la estructura que se quiera. *
const addNewProduct = (data) => {
  return new Promise((resolve, reject) => {
    if (true) {
      // Se agrega el nuevo producto registrado al mock y se regresa el mismo.
      products.push(data);
      resolve(products[products.length - 1]);
    } else {
      reject("Something went wrong. (addNewProduct at products.mode.js file");
    }
  });
};

// Si se requiere eliminar un elemento del mock se podra realizar con esta funcion.
// Lo unico que se necesita es el identificador como argumento del objeto que se desea eliminar.
const deleteProductById = (id) => {
  // Primero sera buscado el producto.
  let product = products.find((product) => product.id === id);

  return new Promise((resolve, reject) => {
    if (product) {
      // Esta sera la manera que sera la manera de "eliminar" el producto del mock.
      products = products.filter((product) => product.id !== id);

      // Sera regresado el producto eliminado.
      resolve(product);
    } else {
      reject(
        "Something went wrong. (deleteProductById at products.mode.js file"
      );
    }
  });
};

module.exports = {
  getAllProduct,
  getProductById,
  editProductById,
  addNewProduct,
  deleteProductById,
};
